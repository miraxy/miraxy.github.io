
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="راهنمای شروع به کار با میرا">
    <meta name="author" content="kiavash">

    <title>استفاده از گیت‌هاب برای انتشار - شروع</title>

    <!-- Bootstrap Core CSS -->
    <link href="/static/mira-doc/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/static/mira-doc/style-rtl.css" rel="stylesheet">
    <!-- Custom Fonts -->
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/vazir-font/v7.0.0/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/samim-font/v1.0.2/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/shabnam-font/v1.1.0/dist/font-face.css">
    <link href="/static/mira-theme/fonts/font-sahel/css/font-sahel.css" rel="stylesheet" type="text/css">
    <link href="/static/mira-theme/fonts/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
<div class="custom-rtl">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
              <div class="brand-centered">
                <a class="navbar-brand" href="/"><img src="/static/img/mira-c.png" class="img-responsive mira-header" alt="mira"></a>
              </div>
            </div>


                       <!-- Collect the nav links, forms, and other content for toggling
           <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
             <ul class="nav navbar-nav navbar-right">
               
                 <li>
                     <a href="http://localhost:80" name="اسناد راهنما برای شروع کار با میرا">راهنمای میرا</a>
                 </li>
               
                 <li>
                     <a href="http://localhost:80" name="چهارچوب مدیریت یکپارچه محتوا برای ساختن وبسایت‌های چندگانه">میرا</a>
                 </li>
               
                 <li>
                     <a href="http://localhost:80" name="راهنمای شروع به کار با میرا">شروع</a>
                 </li>
               
             </ul>
           </div>
            /.navbar-collapse -->


        </div>

  </nav>


<!-- Main Content -->
<div class="container">
  <div class="row">
    <div class="col-lg-7 col-lg-offset-1 col-md-8">
      
      <a name="استفاده از گیت‌هاب برای انتشار"></a>
         <h2><a href="/start-fa/use-github-for-publish/">استفاده از گیت‌هاب برای انتشار</a></h2>
         <a name="more"></a><br><p>هدف در این بخش از راهنما شرح دادن چگونگی منتشر کردن سایتی که با میرا ساخته‌اید بر روی گیت هاب است. برای بهتر متوجه شدن این قسمت نیاز به یک آشنایی حداقلی با گیت‌هاب و چگونگی ساختن مخازن جدید در آن و دانستن مفاهیم و تفاوت‌های مخزن (repository یا repo) با شاخه یا انشعاب یا همان branch دارید.</p>

<p>برای آشنایی بیشتر با صفحات گیتهاب میتوانید مستندات آنرا در این لینک بخوانید:
<a href="https://help.github.com/articles/user-organization-and-project-pages/">User, Organization, and Project Pages</a></p>

<p>گیت‌هاب برای استفاده از سرویس pages، سه راه حل متفاوت دارد، برای انتشار می‌توانید از سه branch مختلف یکی را انتخاب کنید:</p>

<p>۱- استفاده از دایرکتوری docs در branch master</p>

<p>۲- استفاده از branch فرعی با نام gh-pages</p>

<p>۳- انتشار کامل محتوای ذخیره شده در master برای انتشار در USER.github.io</p>

<p>در زیر به شکل کلی در مورد این سه روش می‌خوانیم و در ادامه برای استفاده از هرکدام به شکل اختصاصی برای استفاده در میرا یک راه حل و مثال را پیاده می‌کنیم.</p>

<h1>انتشار با استفاده از دایرکتوری /docs در شاخه‌ی master</h1>

<p>بر اساس <a href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/#publishing-your-github-pages-site-from-a-docs-folder-on-your-master-branch">راهنمای صفحات گیت هاب</a>، در صفحات گیت‌هاب با استفاده از docs می‌توان دست به انتشار محتوا زد، راه حل داشتن یک دایرکتوری به نام docs در شاخه‌ی master هر مخزن است.</p>

<p>اگر خواستید از این روش استفاده کنید، باید دایرکتوری public را به docs تغییر نام دهید. برای این‌که هربار که سایت‌تان را با کمک میرا می‌سازید، نیاز به تغییر نام شاخه public نداشته باشید، تنها کافی است در config.yml این خط را اضافه کنید:</p>

<pre><code>publishDIR: docs
</code></pre>

<p>از این به بعد بعد از هر باز اجرا کردن mira build، به جای public، میرا خروجی تولید شده را در دایرکتوری docs ذخیره می‌کند.</p>

<p>شاخه‌ی master را push کنید به مخزن remote و در قسمت setting پروژه در گیت هاب، مشخص کنید که از دایرکتوری docs برای انتشار صفحات استفاده می‌کنید:</p>

<pre><code>Settings -&gt; GitHub Pages -&gt; Source -&gt; Select master branch /docs folder
</code></pre>

<p>دایرکتوری که mira را در آن پیکربندی کردید را کلا به عنوان شاخه‌ی master از مخزن اصلی تعریف کنید و مخزنی که روی گیت‌هاب برای آن ساخته‌اید را به عنوان remote به گیت معرفی کنید.</p>

<pre><code>git init
git add --all
git commit -m 'start'
git add remote GITHUB_REPO_ADDRESS
</code></pre>

<p>از این به بعد، پس از هر بار اجرا کردن mira build و ساخته شدن سایتتان، تغییرات را به گیت اضافه و publish کنید.</p>

<pre><code>mira build
git add --all
git commit -m 'publish'
git push origin master
</code></pre>

<p>از حالا به بعد اگر آدرس مخزنی که روی گیت هاب ساخته بودید چیزی شبیه به این آدرس بود:</p>

<pre><code>github.com/USER/REPO.git
</code></pre>

<p>محتوای شما در آدرسی شبیه به این آدرس با استفاده از فایل‌های قرار گرفته در دایرکتوری docs منتشر خواهد شد:</p>

<pre><code>USER.github.io/REPO
</code></pre>

<h1>انتشار به وسیله‌ی شاخه‌ی gh-pages</h1>

<p>راه دیگر انتشار محتوا به وسیله‌ی یک شاخه‌ی جدا به نام gh-pages در مخزن گیت است. آماده سازی آن نسبت به استفاده از شاخه‌ی docs پیچیده‌تر است، اما در مقابل مزایای بیشتری هم دارد.</p>

<ul>
<li>محتوای خام و تنظیمات در شاخه‌ای جدا از خروجی قابل انتشار نگهداری می‌شوند.</li>
<li>تاریحچه منبع محتوا و صفحات منتشر شده کاملا جدا از هم نگهداری می‌شود.</li>
<li>از دایرکتوری public به شکل پیش‌فرض استفاده می‌کنیم.</li>
<li>برای تنظیم کردن پیکربندی انعطاف بیشتری داریم.</li>
<li>و...</li>
</ul>

<p><strong>آماده سازی</strong>:</p>

<p>توضیح: این قسمت را تنها نیاز داریم یک بار انجام دهیم، در طول توضیحات فرض این است که نام remote که استفاده میکنیم origin است، اگر از نام دیگری استفاده میکنید، آن‌ را با origin جایگزین کنید.</p>

<p>قبل از شروع هرکاری، دایرکتوری public را پاک می‌کنیم.</p>

<pre><code>rm -rf public
</code></pre>

<p>یا اگر در ویندوز باشیم</p>

<pre><code>rd /s /q public
</code></pre>

<p>اول گیت را پیکربندی می‌کنیم و دایرکتوری public را به gitignore اضافه میکنیم:</p>

<pre><code>git init
echo "public" &gt; .gitignore
git add --all
git commit -m 'start'
</code></pre>

<p>آدرس مخزنی که در گیت‌هاب ساخته‌اید را به عنوان remote به پروژه اضافه می‌کنیم و شاخه‌ی master را push می‌کنیم.</p>

<pre><code>git add remote GITHUB_REPO_ADDRESS
git push origin master
</code></pre>

<p>سپس شاخه‌ی gh-pages را می‌سازیم و به شکل خالی مقداردهی می‌کنیم و به مخزن remote هم آن‌را اضافه میکنیم.</p>

<pre><code>git checkout --orphan gh-pages
git reset --hard
git commit --allow-empty -m "Initializing gh-pages"
git push upstream gh-pages
</code></pre>

<p>به شاخه‌ی master بر می‌گردیم</p>

<pre><code>git checkout master
</code></pre>

<p>و دایرکتوری public را به عنوان worktree برای شاخه‌ی gh-pages مشخص می‌کنیم.(دقت کنید که دایرکتوری public را پاک کرده باشید و هنگام اجرای این دستور وجود نداشته باشد)</p>

<pre><code>git worktree add -B gh-pages public origin/gh-pages
</code></pre>

<p>اگر همه مراحل بالا بدون اشکال پیش رفته باشد، حالا همه چیز آماده است. از این به بعد بعد از هر بار اضافه کردن محتوا یک بار مخزن را به روز کنید و بعد از هر build کردن سایت هم یک بار دیگر. ترتیب دستورها چیزی شبیه به این خواهد بود:</p>

<pre><code>mira new -t 'post title' -f blog
ویرایش و تولید محتوا و قرار دادن عکس یا سایر ضمیمه‌ها در شاخه استاتیک
git add .
git commit -m 'add content'
ساختن خروجی:
mira build
cd public
git add .
git commit -m 'publish'
cd ..
به روز کردن مخزن گیت‌هاب پروژه
git push origin master gh-pages
</code></pre>

<p>از حالا به بعد اگر آدرس مخزنی که روی گیت هاب ساخته بودید چیزی شبیه به این آدرس بود:</p>

<pre><code>github.com/USER/REPO.git
</code></pre>

<p>محتوای شما در آدرسی شبیه به این آدرس با استفاده از فایل‌های قرار گرفته در دایرکتوری docs منتشر خواهد شد:</p>

<pre><code>USER.github.io/REPO
</code></pre>

<p>و اگر می‌خواهید از نام دامین اختصاصی خودتان برای نمایش محتوا استفاده کنید، فایلی به نام CNAME را در public بسازید و نام دامنه‌ی خودتان را در آن بنویسید</p>

<pre><code>echo YOUR_DOMAIN_NAME.com &gt; CNAME
</code></pre>

<h1>ادامه دارد...</h1>
      
    </div>

    <div class="col-lg-3 col-lg-offset-1 col-md-3 col-md-offset-1 sidebar">
<ul class="nav">
  <li><h2><a href="/start-fa/">شروع</a></h2></li>
  <li><h5>راهنمای شروع به کار با میرا</h5></li>

    
      
        <h3>آغاز کار</h3>
      
      <h5><a href="#ابتدا">ابتدا</a></h5>
<!--      <h5><a href="#/start-fa/start/">ابتدا</a></h5> -->
    
      
      <h5><a href="#پیکربندی">پیکربندی</a></h5>
<!--      <h5><a href="#/start-fa/init/">پیکربندی</a></h5> -->
    
      
      <h5><a href="#تعریف کردن یک پروژه جدید">تعریف کردن یک پروژه جدید</a></h5>
<!--      <h5><a href="#/start-fa/define/">تعریف کردن یک پروژه جدید</a></h5> -->
    
      
      <h5><a href="#ضمیمه‌ها">ضمیمه‌ها</a></h5>
<!--      <h5><a href="#/start-fa/attach/">ضمیمه‌ها</a></h5> -->
    
    
      
        <h3>گام اول: مشخص کردن نام‌ها</h3>
      
      <h5><a href="#تعیین نام و محل ذخیره محتوا">تعیین نام و محل ذخیره محتوا</a></h5>
<!--      <h5><a href="#/start-fa/step1/">تعیین نام و محل ذخیره محتوا</a></h5> -->
    
    
      
        <h3>گام دوم: استراکچر</h3>
      
      <h5><a href="#مشخص کردن فیلدهای پیش‌فرض برای هر سایت">مشخص کردن فیلدهای پیش‌فرض برای هر سایت</a></h5>
<!--      <h5><a href="#/start-fa/step2/">مشخص کردن فیلدهای پیش‌فرض برای هر سایت</a></h5> -->
    
    
      
        <h3>گام سوم: تنظیم پیکربندی یا کانفیگ کردن</h3>
      
      <h5><a href="#توضیح تنظیمات در میرا">توضیح تنظیمات در میرا</a></h5>
<!--      <h5><a href="#/start-fa/config/">توضیح تنظیمات در میرا</a></h5> -->
    
      
      <h5><a href="#تنظیمات عمومی">تنظیمات عمومی</a></h5>
<!--      <h5><a href="#/start-fa/general-config/">تنظیمات عمومی</a></h5> -->
    
      
      <h5><a href="#تنظیمات اختصاصی برای هر سایت">تنظیمات اختصاصی برای هر سایت</a></h5>
<!--      <h5><a href="#/start-fa/specific-config/">تنظیمات اختصاصی برای هر سایت</a></h5> -->
    
    
      
        <h3>گام چهارم: تولید محتوا</h3>
      
      <h5><a href="#نوشتن اولین پست">نوشتن اولین پست</a></h5>
<!--      <h5><a href="#/start-fa/content/">نوشتن اولین پست</a></h5> -->
    
      
      <h5><a href="#استفاده از ایندکس برای داشتن آدرس مرتب و کوتاه">استفاده از ایندکس برای داشتن آدرس مرتب و کوتاه</a></h5>
<!--      <h5><a href="#/start-fa/index-content/">استفاده از ایندکس برای داشتن آدرس مرتب و کوتاه</a></h5> -->
    
      
      <h5><a href="#چند نکته و پیشنهاد در مورد محتوا">چند نکته و پیشنهاد در مورد محتوا</a></h5>
<!--      <h5><a href="#/start-fa/more-about-content/">چند نکته و پیشنهاد در مورد محتوا</a></h5> -->
    
    
      
        <h3>گام پنجم: فایل‌ها و پوشه‌های ضمیمه یا statics</h3>
      
      <h5><a href="#توضیح فایل‌های ضمیمه">توضیح فایل‌های ضمیمه</a></h5>
<!--      <h5><a href="#/start-fa/statics/">توضیح فایل‌های ضمیمه</a></h5> -->
    
      
      <h5><a href="#ضمیمه‌های عمومی">ضمیمه‌های عمومی</a></h5>
<!--      <h5><a href="#/start-fa/general-statics/">ضمیمه‌های عمومی</a></h5> -->
    
      
      <h5><a href="#ضمیمه‌های اختصاصی هر طبقه">ضمیمه‌های اختصاصی هر طبقه</a></h5>
<!--      <h5><a href="#/start-fa/specific-statics/">ضمیمه‌های اختصاصی هر طبقه</a></h5> -->
    
      
      <h5><a href="#مسیر تصاویر یا imageurl">مسیر تصاویر یا imageurl</a></h5>
<!--      <h5><a href="#/start-fa/images-statics/">مسیر تصاویر یا imageurl</a></h5> -->
    
    
      
        <h3>گام ششم: ساختن قالب</h3>
      
      <h5><a href="#توضیح ساختار قالب در میرا">توضیح ساختار قالب در میرا</a></h5>
<!--      <h5><a href="#/start-fa/template/">توضیح ساختار قالب در میرا</a></h5> -->
    
      
      <h5><a href="#main template">main template</a></h5>
<!--      <h5><a href="#/start-fa/main-template/">main template</a></h5> -->
    
      
      <h5><a href="#index template">index template</a></h5>
<!--      <h5><a href="#/start-fa/index-template/">index template</a></h5> -->
    
      
      <h5><a href="#archive template">archive template</a></h5>
<!--      <h5><a href="#/start-fa/archive-template/">archive template</a></h5> -->
    
      
      <h5><a href="#post template">post template</a></h5>
<!--      <h5><a href="#/start-fa/post-template/">post template</a></h5> -->
    
      
      <h5><a href="#feed template">feed template</a></h5>
<!--      <h5><a href="#/start-fa/feed-template/">feed template</a></h5> -->
    
      
      <h5><a href="#ساختن یک ساید بار">ساختن یک ساید بار</a></h5>
<!--      <h5><a href="#/start-fa/sidebar/">ساختن یک ساید بار</a></h5> -->
    
      
      <h5><a href="#تکمیل کردن قالب post">تکمیل کردن قالب post</a></h5>
<!--      <h5><a href="#/start-fa/post-subjoin/">تکمیل کردن قالب post</a></h5> -->
    
      
      <h5><a href="#مرتب کردن چیدمان">مرتب کردن چیدمان</a></h5>
<!--      <h5><a href="#/start-fa/layout/">مرتب کردن چیدمان</a></h5> -->
    
      
      <h5><a href="#پوسته‌های بیشتر برای هر قالب و تغییر آدرس">پوسته‌های بیشتر برای هر قالب و تغییر آدرس</a></h5>
<!--      <h5><a href="#/start-fa/more-templates/">پوسته‌های بیشتر برای هر قالب و تغییر آدرس</a></h5> -->
    
    
      
        <h3>گام هفتم: شخصی سازی بیشتر</h3>
      
      <h5><a href="#ساختن صفحات">ساختن صفحات</a></h5>
<!--      <h5><a href="#/start-fa/pages/">ساختن صفحات</a></h5> -->
    
      
      <h5><a href="#آدرس‌های تکراری">آدرس‌های تکراری</a></h5>
<!--      <h5><a href="#/start-fa/duplicate-address/">آدرس‌های تکراری</a></h5> -->
    
      
      <h5><a href="#تغییر آدرس آرشیو‌ها">تغییر آدرس آرشیو‌ها</a></h5>
<!--      <h5><a href="#/start-fa/namespcae/">تغییر آدرس آرشیو‌ها</a></h5> -->
    
      
      <h5><a href="#اضافه کردن لینک شبکه‌های اجتماعی">اضافه کردن لینک شبکه‌های اجتماعی</a></h5>
<!--      <h5><a href="#/start-fa/add-social-links/">اضافه کردن لینک شبکه‌های اجتماعی</a></h5> -->
    
      
      <h5><a href="#افزودن مشخصات نویسنده مطلب">افزودن مشخصات نویسنده مطلب</a></h5>
<!--      <h5><a href="#/start-fa/add-author-info/">افزودن مشخصات نویسنده مطلب</a></h5> -->
    
    
      
        <h3>گام هشتم: انتشار</h3>
      
      <h5><a href="#انتخاب محل انتشار">انتخاب محل انتشار</a></h5>
<!--      <h5><a href="#/start-fa/start-publish/">انتخاب محل انتشار</a></h5> -->
    
      
      <h5><a href="#انتشار روی فضای شخصی">انتشار روی فضای شخصی</a></h5>
<!--      <h5><a href="#/start-fa/personal-host-publish/">انتشار روی فضای شخصی</a></h5> -->
    
      
      <h5><a href="#استفاده از گیت‌هاب برای انتشار">استفاده از گیت‌هاب برای انتشار</a></h5>
<!--      <h5><a href="#/start-fa/use-github-for-publish/">استفاده از گیت‌هاب برای انتشار</a></h5> -->
    
</ul>
</div>


  </div>
</div>

<br>
    <!-- Footer -->
    <footer>
      <div class="container">
          <div class="row">
              <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                  <li>
                    <a href="mailto: kiavash@gmail.com">
                      <span class="fa-stack fa-lg">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                      </span>
                    </a>
                  </li>
                  <li>
                    <a href="//twitter.com/kiavash">
                      <span class="fa-stack fa-lg">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                      </span>
                    </a>
                  </li>
                  <li>
                    <a href="//gitlab.com/kiavash/mira">
                      <span class="fa-stack fa-lg">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-gitlab fa-stack-1x fa-inverse"></i>
                      </span>
                    </a>
                  </li>
                  <li>
                    <a href="//github.com/kiamazi/mira">
                      <span class="fa-stack fa-lg">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                      </span>
                    </a>
                  </li>
                </ul>
                <p><i class="fa fa-copyright" aria-hidden="true"></i>&nbsp; GPLv3</p>
              </div>
          </div>
      </div>
    </footer>

    <!-- jQuery -->
    <script src="/static/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript
    <script src="/static/js/clean-blog.js"></script> -->

</div>
    <script type="text/javascript" src="/static/js/prettify/prettify.js"></script>
    <script type="text/javascript" src="/static/js/run.js"></script>

</body>

</html>

