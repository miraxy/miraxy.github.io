<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="اسناد میرا">
    <meta name="author" content="kiavash">

    <title>حلقه‌ها - اسناد</title>

    <!-- Bootstrap Core CSS -->
    <link href="/static/mira-doc/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/static/mira-doc/style-rtl.css" rel="stylesheet">
    <!-- Custom Fonts -->
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/vazir-font/v7.0.0/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/samim-font/v1.0.2/dist/font-face.css">
    <link type="text/css" rel="stylesheet" href="https://cdn.rawgit.com/rastikerdar/shabnam-font/v1.1.0/dist/font-face.css">
    <link href="/static/mira-theme/fonts/font-sahel/css/font-sahel.css" rel="stylesheet" type="text/css">
    <link href="/static/mira-theme/fonts/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
<div class="custom-rtl">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
              <div class="brand-centered">
                <a class="navbar-brand" href="/"><img src="/static/img/mira-c.png" class="img-responsive mira-header" alt="mira"></a>
              </div>
            </div>


            <!-- Collect the nav links, forms, and other content for toggling
           <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
             <ul class="nav navbar-nav navbar-right">
               
                 <li>
                     <a href="http://miraxy.github.io/doc" name="Mira Documents">documents</a>
                 </li>
               
                 <li>
                     <a href="http://miraxy.github.io/doc-fa" name="اسناد میرا">اسناد</a>
                 </li>
               
                 <li>
                     <a href="http://miraxy.github.io/fa" name="چهارچوب مدیریت یکپارچه محتوا برای ساختن وبسایت‌های چندگانه">میرا</a>
                 </li>
               
                 <li>
                     <a href="http://miraxy.github.io/guide-fa" name="اسناد راهنما برای شروع کار با میرا">راهنمای میرا</a>
                 </li>
               
                 <li>
                     <a href="http://miraxy.github.io/start-fa" name="راهنمای شروع به کار با میرا">شروع</a>
                 </li>
               
             </ul>
           </div>
            /.navbar-collapse -->

        </div>

  </nav>

<!-- Main Content -->
<div class="container">
  <div class="row">
    <div class="col-lg-7 col-lg-offset-1 col-md-8">
      
      <a name="حلقه‌ها"></a>
         <h2><a href="/doc-fa/6/حلقه‌ها/">حلقه‌ها</a></h2>
         <a name="more"></a>
<h2>FOREACH</h2>

<p>حلقه‌ی FOREACH تمام آیتم‌های موجود در یک لیست را به ترتیب بارگذاری میکند و با دستوراعملی که در بلوک مربوطه مشخص شده پردازش می‌کند. این دستور یک دستور بلوکی است که با FOREACH شروع و با END پایان می‌یابد.</p>

<p>این حلقه می‌تواند با یک کلید اختیاری با هر نامی که مورد نیاز باشد لود شود</p>

<pre><code>{{ FOREACH post IN POSTS }}
   {{ post.title }}
   ...
{{ END }}
یا
{{ FOREACH entry IN POSTS }}
   {{ entry.body.more }}
   ...
{{ END }}
</code></pre>

<p>یا کلا از کلید چشم پوشی شود:</p>

<pre><code>{{ FOREACH POSTS }}
   {{ title }}
   {{ body.more }}
   ...
{{ END }}
</code></pre>

<h2>WHILE</h2>

<p>با استفاده از WHILE نیز می‌توان حلقه‌ها را بوجود آورد، WHILE برای هر بار تکرار یک شرط را بررسی می‌کند و در صورتیکه مقدار شرط صحیح باشد، حلقه را مجددا تکرار میکند، در غیر اینصورت از حلقه خارج خواهد شد.</p>

<pre><code>{{ totla = 200 }}
{{ WHILE total &gt; 100 }}
   total is : {{ total }}
   {{ total = total - 1 }}
{{ END }}
</code></pre>

<h2>کنترل حلقه FOREACH</h2>

<p>با استفاده از ابزار کنترل حلقه می‌توان از وضعیت فعلی که حلقه در حال اجرای آن است مطلع شد و برای هر وضعیت شرط خاصی را در نظر گرفت. برای استفاده از هر یک از ابزار کنترل، درون هر حلقه از مقدار loop به همراه نام کنترل کننده میتوان استفاده کرد</p>

<pre><code>{{ FOREACH post IN POSTS }}
  {{ IF loop.first }}
     {{ post.body.more }}
  {{ ELSE }}
     {{ post.body.less }}
  {{ END }}
{{ END }}
</code></pre>

<p>در حلقه‌ی بالا برای اولین نوشته‌ی هر صفحه متن کامل آن نمایش داده می‌شود و برای سایر نوشته‌ها متن خلاصه نمایش داده می‌شود.</p>

<h3>first</h3>

<p>در صورتیکه حلقه در اولین اجرای خود باشد مقدار صحیح را باز می‌گرداند.</p>

<h3>last</h3>

<p>در صورتیکه حلقه در آخرین اجرای خود باشد مقدار صحیح را باز می‌گرداند.</p>

<h3>size</h3>

<p>تعداد آیتم‌های لیستی که حلقه لود می‌کند را باز می‌گرداند.</p>

<h3>count</h3>

<p>شماره‌ی حلقه‌ای که در حال تکرار شدن است را باز می‌گرداند.</p>

<h3>prev</h3>

<p>امکان دسترسی به مقادیر تکرار پیشین حلقه.</p>

<pre><code>{{ FOREACH post IN POSTS }}
   {{ IF loop.prev.CALENDAR.year != post.CALENDAR.year }}
      {{ post.year }}
   {{ END }}
   {{ post.title }}
{{ END }}
</code></pre>

<p>در حلقه‌ی فوق اگر سال در نوشته‌ی قبل و نوشته‌ای که در حال لود شدن است برابر نبود، سال نمایش داده می‌شود.</p>

<h3>next</h3>

<p>امکان دسترسی به مقادیر تکرار بعدی حلقه‌.</p>

<h3>parity</h3>

<p>به ترتیب برای هربار لود شدن حلقه مقادیر odd و even را باز میگرداند.</p>

<pre><code>&lt;table&gt;
{{ FOREACH name IN ['Arthur', 'Ford', 'Trillian'] -}}
  &lt;tr class="{{ loop.parity }}"&gt;
    &lt;td&gt;{{ name }}&lt;/td&gt;
  &lt;/tr&gt;
{{ END }}
&lt;/table&gt;
</code></pre>

<p>خروجی:</p>

<pre><code>&lt;table&gt;
  &lt;tr class="odd"&gt;
    &lt;td&gt;Arthur&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class="even"&gt;
    &lt;td&gt;Ford&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr class="odd"&gt;
    &lt;td&gt;Trillian&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre>

<h3>odd</h3>

<p>با هر بار تکرار شدن حلقه مقادیر 0 و 1 را به نوبت برای تکرار های زوج و فرد حلقه باز می‌گرداند. به عبارت دیگر برای تکرارهای اول، سوم، پنجم، ... حلقه مقدار 1 یا صحیح را برمیگر‌داند.</p>

<h3>even</h3>

<p>با هر بار تکرار شدن حلقه مقادیر 0 و 1 را به نوبت برای تکرار های فرد و زوج حلقه باز می‌گرداند. به عبارت دیگر برای تکرارهای دوم، چهارم، ششم، ... حلقه مقدار 1 یا صحیح را برمیگر‌داند.</p>

<h3>NEXT</h3>

<pre><code>{{ FOREACH user IN users }}
   {{ NEXT IF user.isguest }}
   Name: {{ user.name }}    Email: {{ user.email }}
{{ END }}
</code></pre>

<h3>LAST</h3>

<pre><code>{{ FOREACH user IN users }}
   Name: {{ user.name }}    Email: {{ user.email }}
   {{ LAST IF some.condition }}
{{ END }}
</code></pre>
      
    </div>

    <div class="col-lg-3 col-lg-offset-1 col-md-3 col-md-offset-1 sidebar">
<ul class="nav">
  <li><h2><a href="/doc-fa/">اسناد</a></h2></li>
  <li><h5>اسناد میرا</h5></li>


    
      
        <h3>نصب</h3>
      

      
      	<h5>پیش‌نیازها</h5>
      

      <h5><a href="#پرل">پرل</a></h5>
<!--      <h5><a href="#/doc-fa/1/پرل/">پرل</a></h5> -->
    
      

      
      	<h5>نصب پرل و میرا</h5>
      

      <h5><a href="#ویندوز">ویندوز</a></h5>
<!--      <h5><a href="#/doc-fa/1/ویندوز/">ویندوز</a></h5> -->
    
      

      

      <h5><a href="#سیستم‌های شبه یونیکس">سیستم‌های شبه یونیکس</a></h5>
<!--      <h5><a href="#/doc-fa/1/سیستم‌های-شبه-یونیکس/">سیستم‌های شبه یونیکس</a></h5> -->
    

    
      
        <h3>پیکربندی</h3>
      

      
      	<h5>پیکربندی</h5>
      

      <h5><a href="#پیکربندی">پیکربندی</a></h5>
<!--      <h5><a href="#/doc-fa/2/پیکربندی/">پیکربندی</a></h5> -->
    

    
      
        <h3>تنظیمات</h3>
      

      
      	<h5>فایل‌های پیکربندی</h5>
      

      <h5><a href="#پیکربندی عمومی و اختصاصی">پیکربندی عمومی و اختصاصی</a></h5>
<!--      <h5><a href="#/doc-fa/3/پیکربندی-عمومی-و-اختصاصی/">پیکربندی عمومی و اختصاصی</a></h5> -->
    
      

      

      <h5><a href="#فیلدهای قابل تنظیم">فیلدهای قابل تنظیم</a></h5>
<!--      <h5><a href="#/doc-fa/3/فیلدهای-قابل-تنظیم/">فیلدهای قابل تنظیم</a></h5> -->
    

    
      
        <h3>محتوا</h3>
      

      
      	<h5>محتوا در میرا</h5>
      

      <h5><a href="#معرفی محتوا در میرا">معرفی محتوا در میرا</a></h5>
<!--      <h5><a href="#/doc-fa/4/معرفی-محتوا-در-میرا/">معرفی محتوا در میرا</a></h5> -->
    
      

      
      	<h5>تولید و مدیریت محتوا</h5>
      

      <h5><a href="#ساختن نوشته‌های جدید">ساختن نوشته‌های جدید</a></h5>
<!--      <h5><a href="#/doc-fa/4/ساختن-نوشته‌های-جدید/">ساختن نوشته‌های جدید</a></h5> -->
    
      

      

      <h5><a href="#سربرگ">سربرگ</a></h5>
<!--      <h5><a href="#/doc-fa/4/سربرگ/">سربرگ</a></h5> -->
    
      

      

      <h5><a href="#بدنه اصلی هر پست">بدنه اصلی هر پست</a></h5>
<!--      <h5><a href="#/doc-fa/4/بدنه-اصلی-هر-پست/">بدنه اصلی هر پست</a></h5> -->
    

    
      
        <h3>پوسته</h3>
      

      
      	<h5>پوسته</h5>
      

      <h5><a href="#معرفی اجزای تشکیل دهنده پوسته">معرفی اجزای تشکیل دهنده پوسته</a></h5>
<!--      <h5><a href="#/doc-fa/5/معرفی-اجزای-تشکیل-دهنده-پوسته/">معرفی اجزای تشکیل دهنده پوسته</a></h5> -->
    
      

      

      <h5><a href="#فایل‌های پایه‌ی هر پوسته">فایل‌های پایه‌ی هر پوسته</a></h5>
<!--      <h5><a href="#/doc-fa/5/فایل‌های-پایه‌ی-هر-پوسته/">فایل‌های پایه‌ی هر پوسته</a></h5> -->
    
      

      
      	<h5>برچسب‌های مورد استفاده در پوسته</h5>
      

      <h5><a href="#الگوها">الگوها</a></h5>
<!--      <h5><a href="#/doc-fa/5/الگوها/">الگوها</a></h5> -->
    
      

      

      <h5><a href="#main.tt2">main.tt2</a></h5>
<!--      <h5><a href="#/doc-fa/5/main-tt2/">main.tt2</a></h5> -->
    
      

      

      <h5><a href="#index.tt2">index.tt2</a></h5>
<!--      <h5><a href="#/doc-fa/5/index-tt2/">index.tt2</a></h5> -->
    
      

      

      <h5><a href="#feed">feed</a></h5>
<!--      <h5><a href="#/doc-fa/5/feed/">feed</a></h5> -->
    
      

      

      <h5><a href="#archive.tt2">archive.tt2</a></h5>
<!--      <h5><a href="#/doc-fa/5/archive-tt2/">archive.tt2</a></h5> -->
    
      

      

      <h5><a href="#متغیرهای موجود">متغیرهای موجود</a></h5>
<!--      <h5><a href="#/doc-fa/5/متغیرهای-موجود/">متغیرهای موجود</a></h5> -->
    
      

      

      <h5><a href="#نمایش نوشته‌ها با حلقه‌ی POSTS">نمایش نوشته‌ها با حلقه‌ی POSTS</a></h5>
<!--      <h5><a href="#/doc-fa/5/نمایش-نوشته‌ها-با-حلقه‌ی-posts/">نمایش نوشته‌ها با حلقه‌ی POSTS</a></h5> -->
    
      

      

      <h5><a href="#نمایش فیلدهای استفاده شده در config عمومی و اختصاصی">نمایش فیلدهای استفاده شده در config عمومی و اختصاصی</a></h5>
<!--      <h5><a href="#/doc-fa/5/نمایش-فیلدهای-استفاده-شده-در-config-عمومی-و-اختصاصی/">نمایش فیلدهای استفاده شده در config عمومی و اختصاصی</a></h5> -->
    

    
      
        <h3>قالب</h3>
      

      
      	<h5>دستور زبان</h5>
      

      <h5><a href="#برچسب‌های ابتدا و انتها">برچسب‌های ابتدا و انتها</a></h5>
<!--      <h5><a href="#/doc-fa/6/برچسب‌های-ابتدا-و-انتها/">برچسب‌های ابتدا و انتها</a></h5> -->
    
      

      

      <h5><a href="#برچسب‌های outline">برچسب‌های outline</a></h5>
<!--      <h5><a href="#/doc-fa/6/برچسب‌های-outline/">برچسب‌های outline</a></h5> -->
    
      

      

      <h5><a href="#کامنت‌ها">کامنت‌ها</a></h5>
<!--      <h5><a href="#/doc-fa/6/کامنت‌ها/">کامنت‌ها</a></h5> -->
    
      

      

      <h5><a href="#حذف کردن یا افزودن خطوط سفید">حذف کردن یا افزودن خطوط سفید</a></h5>
<!--      <h5><a href="#/doc-fa/6/حذف-کردن-یا-افزودن-خطوط-سفید/">حذف کردن یا افزودن خطوط سفید</a></h5> -->
    
      

      

      <h5><a href="#دستور زبان مستقیم و بلوکی">دستور زبان مستقیم و بلوکی</a></h5>
<!--      <h5><a href="#/doc-fa/6/دستور-زبان-مستقیم-و-بلوکی/">دستور زبان مستقیم و بلوکی</a></h5> -->
    
      

      

      <h5><a href="#ذخیره کردن خروجی بلوک‌ها در متغیرها">ذخیره کردن خروجی بلوک‌ها در متغیرها</a></h5>
<!--      <h5><a href="#/doc-fa/6/ذخیره-کردن-خروجی-بلوک‌ها-در-متغیرها/">ذخیره کردن خروجی بلوک‌ها در متغیرها</a></h5> -->
    
      

      

      <h5><a href="#فیلترها">فیلترها</a></h5>
<!--      <h5><a href="#/doc-fa/6/فیلترها/">فیلترها</a></h5> -->
    
      

      

      <h5><a href="#بلوک‌های مستقیم">بلوک‌های مستقیم</a></h5>
<!--      <h5><a href="#/doc-fa/6/بلوک‌های-مستقیم/">بلوک‌های مستقیم</a></h5> -->
    
      

      
      	<h5>دستورالعمل‌های قالب بندی</h5>
      

      <h5><a href="#متغیرها">متغیرها</a></h5>
<!--      <h5><a href="#/doc-fa/6/متغیرها/">متغیرها</a></h5> -->
    
      

      

      <h5><a href="#تنظیم، دسترسی، تغییر متغیرها">تنظیم، دسترسی، تغییر متغیرها</a></h5>
<!--      <h5><a href="#/doc-fa/6/تنظیم-دسترسی-تغییر-متغیرها/">تنظیم، دسترسی، تغییر متغیرها</a></h5> -->
    
      

      

      <h5><a href="#تنظیم و پردازش فایل‌های خارجی و بلوک‌های پوسته‌ای">تنظیم و پردازش فایل‌های خارجی و بلوک‌های پوسته‌ای</a></h5>
<!--      <h5><a href="#/doc-fa/6/تنظیم-و-پردازش-فایل‌های-خارجی-و-بلوک‌های-پوسته‌ای/">تنظیم و پردازش فایل‌های خارجی و بلوک‌های پوسته‌ای</a></h5> -->
    
      

      

      <h5><a href="#شرط‌ها">شرط‌ها</a></h5>
<!--      <h5><a href="#/doc-fa/6/شرط‌ها/">شرط‌ها</a></h5> -->
    
      

      

      <h5><a href="#حلقه‌ها">حلقه‌ها</a></h5>
<!--      <h5><a href="#/doc-fa/6/حلقه‌ها/">حلقه‌ها</a></h5> -->
    
      

      

      <h5><a href="#فیلترها">فیلترها</a></h5>
<!--      <h5><a href="#/doc-fa/6/فیلترها/2/">فیلترها</a></h5> -->
    
      

      

      <h5><a href="#ماکروها و پرل">ماکروها و پرل</a></h5>
<!--      <h5><a href="#/doc-fa/6/ماکروها-و-پرل/">ماکروها و پرل</a></h5> -->
    
      

      

      <h5><a href="#سایر کنترل کننده‌ها">سایر کنترل کننده‌ها</a></h5>
<!--      <h5><a href="#/doc-fa/6/سایر-کنترل-کننده‌ها/">سایر کنترل کننده‌ها</a></h5> -->
    

</ul>
</div>

  </div>
</div>

<br>
    <!-- Footer -->
    <footer>
      <div class="container">
          <div class="row">
              <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                  <li>
                    <a href="mailto: kiavash@gmail.com">
                      <span class="fa-stack fa-lg">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-envelope-o fa-stack-1x fa-inverse"></i>
                      </span>
                    </a>
                  </li>
                  <li>
                    <a href="//twitter.com/kiavash">
                      <span class="fa-stack fa-lg">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                      </span>
                    </a>
                  </li>
                  <li>
                    <a href="//gitlab.com/kiavash/mira">
                      <span class="fa-stack fa-lg">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-gitlab fa-stack-1x fa-inverse"></i>
                      </span>
                    </a>
                  </li>
                  <li>
                    <a href="//github.com/kiamazi/mira">
                      <span class="fa-stack fa-lg">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                      </span>
                    </a>
                  </li>
                </ul>
                <p><i class="fa fa-copyright" aria-hidden="true"></i>&nbsp; GPLv3</p>
              </div>
          </div>
      </div>
    </footer>

    <!-- jQuery -->
    <script src="/static/js/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- Custom Theme JavaScript
    <script src="/static/js/clean-blog.js"></script> -->

</div>
    <script type="text/javascript" src="/static/js/prettify/prettify.js"></script>
    <script type="text/javascript" src="/static/js/run.js"></script>

</body>

</html>